# Docker Profile Configuration for API Gateway

# Service URLs (injected from docker-compose)
spring.cloud.gateway.routes[0].id=member-service
spring.cloud.gateway.routes[0].uri=${MEMBER_SERVICE_URL}
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/member/**,/v3/api-docs/member

spring.cloud.gateway.routes[1].id=product-service
spring.cloud.gateway.routes[1].uri=${PRODUCT_SERVICE_URL}
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/product/**,/v3/api-docs/product

spring.cloud.gateway.routes[2].id=cart-service
spring.cloud.gateway.routes[2].uri=${CART_SERVICE_URL}
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/cart/**,/v3/api-docs/cart
spring.cloud.gateway.routes[2].filters[0]=JwtAuthenticationFilter

# Swagger / OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.urls[0].name=member
springdoc.swagger-ui.urls[0].url=/v3/api-docs/member
springdoc.swagger-ui.urls[1].name=product
springdoc.swagger-ui.urls[1].url=/v3/api-docs/product
springdoc.swagger-ui.urls[2].name=cart
springdoc.swagger-ui.urls[2].url=/v3/api-docs/cart

# CORS Configuration (for Swagger UI)
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
